{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
<!-- Навигация сайта -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="/">
        <img src="{% static 'images/logo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">Гастро<span style="color:red;">гном</span>
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="/">Главная</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/all_recipes/">Все рецепты</a>
            </li>
            {% if request.user.is_authenticated %}
            <li class="nav-item">
                <a class="nav-link" href="/my_recipes/">Мои рецепты</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/recipe/add/">Добавить рецепт</a>
            </li>
            {% endif %}
        </ul>
        <!-- Правая часть навигации -->
        <ul class="navbar-nav ml-auto">
            {% if request.user.is_authenticated %}
            <li class="nav-item">
                <a class="navbar-brand" href="#">{{ request.user.username }}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout/">Выйти</a>
            </li>
            {% else %}
            <li class="nav-item">
                <a class="nav-link" href="/login/">Войти</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/register/">Регистрация</a>
            </li>
            {% endif %}
        </ul>
    </div>
</nav>

<!-- сообщения об ошибках-->
{% if messages %}
<div class="mt-5">
    {% for message in messages %}
    {% if message.tags %}
    {% if 'error' in message.tags %}
    <div class="alert alert-danger" role="alert">
        {{ message }}
    </div>
    {% else %}
    <div class="alert alert-{{ message.tags }}" role="alert">
        {{ message }}
    </div>
    {% endif %}
    {% endif %}
    {% endfor %}
</div>
{% endif %}

<!-- Отображение контента -->
<div class="container mb-5 mt-5 mx-auto">
    <div class="justify-content-center">
            <div class="row">
                <div class="col">
                    <h1 class="text-center mt-5 mb-3">{{ title }}</h1>
                </div>
            </div>
        {% block content %}
        {% endblock %}
    </div>
</div>

<!-- Костыль чтобы подвал не был вплотную к контенту -->
<div class="mb-5">
    <br>
</div>

<!-- Подвал сайта -->
{% block footer %}
<footer class="navbar navbar-dark bg-dark fixed-bottom">
        <span class="navbar-text ml-auto">Итоговая работа by
            <a href="https://gb.ru/users/6b46ffc8-c814-416e-ae40-23d565019f58">Yoda<span style="color:red;">XD</span></a>,
            специально для <a href="https://gb.ru/"><span style="color:#8D46F6;">Geek</span>Brains</a></span>
</footer>
{% endblock %}


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>